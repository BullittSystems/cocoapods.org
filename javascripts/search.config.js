// // Tracking the search results.
// //
// var trackAnalytics = function(data, query) {
// var total = data.total;
// if (total > 0) {
//   _gaq.push(['_trackEvent', 'search', 'with results', query, total]);
// } else {
//   _gaq.push(['_trackEvent', 'search', 'not found', query, 0]);
// }
// }
$(window).ready(function(){var e=/(platform|on\:\w+\s?)+/,t=$("#search .platform"),n=function(){t.find("label").removeClass("selected"),t.find("input:checked + label").addClass("selected")},r={ios:"iOS",osx:"OS X"},i=function(e){var t=r[e.platforms],n=$.map(e.authors,function(e,t){return"<a href=\"javascript:pickyClient.insert('"+t.replace(/[']/,"\\\\'")+"')\">"+t+"</a>"});return'<li class="result">  <div class="infos">    <h3>      <a href="'+e.link+'">'+e.id+"</a>"+(t?'<span class="os">'+t+" only</span>":"")+'      <span class="version">'+e.version+'        <span class="clippy">'+e.podspec+"</span>"+"      </span>"+"    </h3>"+'    <p class="subspecs">'+e.subspecs.join(", ")+"</p>"+"    <p>"+e.summary+"</p>"+'    <p class="author">'+n.join(", ")+"</p>"+"  </div>"+'  <div class="actions">'+'    <a href="http://cocoadocs.org/docsets/'+e.id+"/"+e.version+'">Docs</a>'+'    <a href="'+e.link+'">Repo</a>'+'    <a href="https://github.com/CocoaPods/Specs/tree/master/'+e.id+"/"+e.version+"/"+e.id+'.podspec">Spec</a>'+"  </div>"+"</li>"};pickyClient=new PickyClient({full:"http://cocoapods.org/search.json",live:"http://cocoapods.org/search.json",liveResults:20,liveRendered:!0,liveSearchInterval:60,enclosingSelector:"#search",resetSelector:"a.reset-search",maxSuggestions:4,moreSelector:"#search .allocations .more",beforeInsert:function(t){return t.replace(e,"")},after:function(e,t){},before:function(n,r){if(n=="")return"";n=n.replace(e,"");var i=t.find("input:checked").val();return i===undefined||i==""?n:i+" "+n},success:function(e,t){var n={},r=e.allocations;return r.each(function(t,r){var s=r.ids,o=r.entries,u=[];s.each(function(t,r){n[r]?(e.total-=1,u.push(t)):n[r]=!0});for(var a=u.length-1;0<=a;a--)o.splice(u[a],1);r.entries=o.map(function(e,t){return i(JSON.parse(t))})}),$("#search form span.amount").text(e.total),e},qualifiers:{en:{dependencies:"uses",platform:"on"}},groups:[["platform"]],choices:{en:{platform:"",name:"Called <em>%1$s</em>",author:"Written by <em>%1$s</em>",summary:'Having "<em>%1$s</em>" in summary',dependencies:"Using another pod called <em>%1$s</em>",tags:"Tagged <em>%1$s</em>","author,name":"Called <em>%2$s</em>, written by <em>%1$s</em>","name,author":"Called <em>%1$s</em>, written by <em>%2$s</em>","tags,name":"Called <em>%2$s</em>, tagged as <em>%1$s</em>","name,tags":"Called <em>%1$s</em>, tagged as <em>%2$s</em>","version,name":"<em>%1$s</em> of <em>%2$s</em>","name,dependencies":"<em>%1$s</em>, using <em>%2$s</em>","dependencies,name":"<em>%1$s</em> used by <em>%2$s</em>","author,dependencies":"Written by <em>%1$s</em> and using <em>%2$s</em>","dependencies,author":"Using a pod called <em>%1$s</em>, written by <em>%2$s</em>","dependencies,version":"<em>%1$s</em> used by version <em>%2$s</em>","version,dependencies":"<em>%2$s</em> used by version <em>%1$s</em>","author,version":"Version <em>%2$s</em> by <em>%1$s</em>","version,author":"Version <em>%1$s</em> by <em>%2$s</em>","summary,version":'Version <em>%2$s</em> with "<em>%1$s</em>" in summary',"version,summary":'Version <em>%1$s</em> with "<em>%2$s</em>" in summary',"summary,name":'Called <em>%2$s</em>, with "<em>%1$s</em>" in summary',"name,summary":'Called <em>%1$s</em>, with "<em>%2$s</em>" in summary',"summary,author":'Written by <em>%2$s</em> with "<em>%1$s</em>" in summary',"author,summary":'Written by <em>%1$s</em> with "<em>%2$s</em>" in summary',"summary,dependencies":'Has "<em>%1$s</em>" in summary and uses another pod called <em>%2$s</em>',"dependencies,summary":'Has "<em>%2$s</em>" in summary and uses another pod called <em>%1$s</em>',"name,dependencies":'Called "<em>%1$s</em>", using another pod called <em>%2$s</em>',"dependencies,name":'Called "<em>%2$s</em>", using another pod called <em>%1$s</em>'}},explanations:{en:{author:"written by",versions:"on version",dependencies:"using",name:"named",platform:"only on",summary:"with summary",tags:"tagged as"}}}),$('#search input[type="search"]').on("input",function(e){""==this.value?($("#search span.amount").hide(),$("#search div.platform").hide(),$("#search div.results").hide()):($("#search span.amount").show(),$("#search div.platform").show())}),t.find("input").bind("change",function(e){pickyClient.resend(),n(),$("#pod_search").focus()}),n(),window.initial_query!=""&&pickyClient.insertFromURL(window.initial_query)});